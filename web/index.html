<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link href="styles.css" rel="stylesheet" />
    <script type="text/javascript">
    const DEBUG = true;

    const DEBUG_SCRIPTS = ['../src/memo.js', '../src/memo.tools.js', '../build/memo.parser.js', '../src/memo.interpreter.js'];
    const PROD_SCRIPT = ['memo.js'];

    function loadScripts(debug) {
        const scripts = debug ? DEBUG_SCRIPTS : PROD_SCRIPT;
        scripts.forEach(src => {
            const script = document.createElement('script');
            script.src = src;
            script.async = false; // Ensure scripts are loaded in order
            document.head.appendChild(script);
        });
    }
    loadScripts(DEBUG);
    </script>
    <script src="script.js" type="text/javascript"></script>
    <title>[]memo</title>
    <script type="text/javascript">

    function open_modal() {
        var modal = document.getElementById("modal");
        var modal_content = document.getElementById("modal_content");
        modal.style.display = "block";
        modal_content.style.display = "block";
    }

    function close_modal(e) {
       var modal = document.getElementById("modal");
       var modal_content = document.getElementById("modal");
       modal.style.display = "none";
       modal_content.style.display = "none";
    }

    window.addEventListener("load", function() {
        document.getElementsByTagName("body")[0].onclick = close_modal;
        document.getElementById("modal").onclick = () => {return true;};
        document.getElementById("close").onclick = close_modal;
    });
    </script>
</head>
<body>
    <div id="state">
        <h1><a href="javascript:open_modal();">[] memo</a></h1><br/>
        <table id="state_table"><tbody></tbody></table>
    </div>
    <div id="box">
        <div id="content">
        <div id="fadeout">
            <span id="n-12"></span>
            <span id="n-11"></span>
            <span id="n-10"></span>
            <span id="n-9"></span>
            <span id="n-8"></span>
            <span id="n-7"></span>
            <span id="n-6"></span>
            <span id="n-5"></span>
            <span id="n-4"></span>
            <span id="n-3"></span>
            <span id="n-2"></span>
            <span id="n-1"></span>
        </div>
        <div id="entry"><textarea type="text" id="n" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea></div>
        </div>
        <div id="filler"></div>
    </div>
    <div id="modal"><div id="modal_content"><span class="close" id='close'>&times;</span>[] memo<br/>
        <p>A programming language where the last 12 lines are remembered. See more esolangs at https://danieltemkin.com/Esolangs.</p>
        <p>Write commands like:</p>
        <p>remember p as 1, 2, 3</p>
    </div>
</body></html>